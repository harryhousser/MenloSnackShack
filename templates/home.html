{% extends "base.html" %}

{% block title %}Menlo School Snack Shack - Home{% endblock %}

{% block stylesheet %}
<link rel="stylesheet" href="../static/styles/home.css">
{% endblock %}

{% block navlinks %}
<li class="nav-item">
    <a class="nav-link" href="/updates">What's New?</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="/signup">Signup</a>
</li>
<li class="nav-item">
    <a class="nav-link" href="/login">Login</a>
</li>
{% if user.is_admin %}
    <li class="nav-item">
      <a class="nav-link" href="/update_snack">Update Snack!</a>
    </li>
{% endif %}
{% endblock %}

{% block header %}
<h1 class="display-4 text-center text-white">Home: Menlo School Snack Shack</h1>
{% endblock %}

{% block content %}

    
<h2 class="text-center food">Food</h2>
<div class="row">
    <!-- iterates through snacks in category 'food', filling out each card accordingly -->
    {% for snack in snacks if snack.category == 'food' %}
      <div class="col-md-3">
        <div class="card">
          <img class="card-img-top" src="{{ snack.image }}" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">{{ snack.name }}</h5>
            <a href="{{ snack.link }}" target="_blank" class="btn btn-primary">Learn More!</a>
            <br>
            <br>
            <div class="card-buttons">
                <!-- like button -->
                <form method="POST">
                    <input type="hidden" name="snack" value="{{ snack.id }}">
                    <button class="like-button" type="submit"><i class="fas fa-thumbs-up"></i></button>
                </form>
            </div>
            <div class="like-count" id="like-count">{{ snack.like_count }} likes</div>
          </div>
        </div>
      </div>
      <!-- generated by ChatGPT -->
      {% if loop.index0 == 3 %}
        </div>
        <div class="row">
      {% endif %}
    {% endfor %}
    <!-- end generation -->
  </div>
  
</div>
<br>
<h2 class="text-center">Drinks</h2>

<!-- iterates through snacks in category 'drink', filling out each card accordingly -->
<div class="row">
    {% for snack in snacks if snack.category == 'drink' %}
      <div class="col-md-3">
        <div class="card">
          <img class="card-img-top" src="{{ snack.image }}" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">{{ snack.name }}</h5>
            <a href="{{ snack.link }}" target="_blank" class="btn btn-primary">Learn More!</a>
            <br>
            <br>
            <div class="card-buttons">
                <!-- like button -->
                <form method="POST">
                    <input type="hidden" name="snack" value="{{ snack.id }}">
                    <button class="like-button" type="submit"><i class="fas fa-thumbs-up"></i></button>
                </form>
            </div>
            <div class="like-count" id="like-count">{{ snack.like_count }} likes</div>
          </div>
        </div>
      </div>
      <!-- generated by ChatGPT -->
      {% if loop.index0 == 3 %}
        </div>
        <div class="row">
      {% endif %}
    {% endfor %}
    <!-- end generation -->
  </div>
  
</div>

<br>
<h2 class="text-center">Snacks</h2>

<!-- iterates through snacks in category 'snack', filling out each card accordingly -->
<div class="row">
    {% for snack in snacks if snack.category == 'snack' %}
      <div class="col-md-3">
        <div class="card">
          <img class="card-img-top" src="{{ snack.image }}" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">{{ snack.name }}</h5>
            <a href="{{ snack.link }}" target="_blank" class="btn btn-primary">Learn More!</a>
            <br>
            <br>
            <div class="card-buttons">
                <!-- like button -->
                <form method="POST">
                    <input type="hidden" name="snack" value="{{ snack.id }}">
                    <button class="like-button" type="submit"><i class="fas fa-thumbs-up"></i></button>
                </form>
            </div>
            <div class="like-count" id="like-count">{{ snack.like_count }} likes</div>
          </div>
        </div>
      </div>
      <!-- generated by ChatGPT -->
      {% if loop.index0 == 3 %}
        </div>
        <div class="row">
      {% endif %}
    {% endfor %}
    <!-- end generation -->
  </div>
  
</div>

<br>
<h2 class="text-center">Desserts</h2>

<!-- iterates through snacks in category 'dessert', filling out each card accordingly -->
<div class="row">
    {% for snack in snacks if snack.category == 'dessert' %}
      <div class="col-md-3">
        <div class="card">
          <img class="card-img-top" src="{{ snack.image }}" alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">{{ snack.name }}</h5>
            <a href="{{ snack.link }}" target="_blank" class="btn btn-primary">Learn More!</a>
            <br>
            <br>
            <div class="card-buttons">
                <!-- like button -->
                <form method="POST">
                    <input type="hidden" name="snack" value="{{ snack.id }}">
                    <button class="like-button" type="submit"><i class="fas fa-thumbs-up"></i></button>
                </form>
            </div>
            <div class="like-count" id="like-count">{{ snack.like_count }} likes</div>
          </div>
        </div>
      </div>
      <!-- generated by ChatGPT -->
      {% if loop.index0 == 3 %}
        </div>
        <div class="row">
      {% endif %}
    {% endfor %}
    <!-- end generation -->
  </div>
  
</div>

{% endblock %}
{% block scripts %}
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd"></script>
{% endblock %}